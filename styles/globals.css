@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light Mode Palette */
    --background: 40 25% 97%; /* #FAF9F6 - Soft Off-White */
    --foreground: 213 11% 13%; /* #1E2125 - Deep Night Blue-Gray */
    --card: 40 25% 97%; /* #FAF9F6 - Soft Off-White */
    --card-foreground: 213 11% 13%; /* #1E2125 - Deep Night Blue-Gray */
    --popover: 40 25% 97%; /* #FAF9F6 - Soft Off-White */
    --popover-foreground: 213 11% 13%; /* #1E2125 - Deep Night Blue-Gray */
    --primary: 205 33% 74%; /* #A7C2D5 - Muted Blue-Gray */
    --primary-foreground: 213 11% 13%; /* #1E2125 - Deep Night Blue-Gray */
    --secondary: 120 28% 76%; /* #B2D1B2 - Soft Sage Green */
    --secondary-foreground: 213 11% 13%; /* #1E2125 - Deep Night Blue-Gray */
    --muted: 141 14% 48%; /* #E8F6ED - Very Pale Mint Green */
    --muted-foreground: 141 14% 48%; /* #6B8B7A - Deep Forest Green */
    --accent: 120 28% 76%; /* #B2D1B2 - Soft Sage Green */
    --accent-foreground: 213 11% 13%; /* #1E2125 - Deep Night Blue-Gray */
    --destructive: 0 84% 60%; /* #ef4444 - Vivid Red */
    --destructive-foreground: 40 25% 97%; /* #FAF9F6 - Soft Off-White */
    --border: 213 11% 13%; /* #E0E5EA - Slightly Cooler Off-White/Light Gray */
    --input: 210 23% 90%; /* #E0E5EA - Slightly Cooler Off-White/Light Gray */
    --ring: 205 33% 74%; /* #A7C2D5 - Muted Blue-Gray */
    --radius: 0.5rem;
  }

  .dark {
    /* Dark Mode Palette */
    --background: 213 11% 13%; /* #1E2125 - Deep Night Blue-Gray */
    --foreground: 40 25% 97%; /* #FAF9F6 - Soft Off-White */
    --card: 213 11% 13%; /* #3C434C - Shadow Gray */
    --card-foreground: 40 25% 97%; /* #FAF9F6 - Soft Off-White */
    --popover: 213 11% 13%; /* #3C434C - Shadow Gray */
    --popover-foreground: 40 25% 97%; /* #FAF9F6 - Soft Off-White */
    --primary: 206 33% 62%; /* #7FA2BF - Muted Ocean Blue */
    --primary-foreground: 213 11% 13%; /* #1E2125 - Deep Night Blue-Gray */
    --secondary: 141 14% 48%; /* #6B8B7A - Deep Forest Green */
    --secondary-foreground: 40 25% 97%; /* #FAF9F6 - Soft Off-White */
    --muted: 214 11% 27%; /* #3C434C - Shadow Gray */
    --muted-foreground: 131 16% 72%; /* #A3BCA7 - Subtle Moss */
    --accent: 141 14% 48%; /* #6B8B7A - Deep Forest Green */
    --accent-foreground: 40 25% 97%; /* #FAF9F6 - Soft Off-White */
    --destructive: 0 79% 42%; /* #b91c1c - Dark Red */
    --destructive-foreground: 40 25% 97%; /* #FAF9F6 - Soft Off-White */
    --border: 214 11% 27%; /* #3C434C - Shadow Gray */
    --input: 214 11% 27%; /* #3C434C - Shadow Gray */
    --ring: 206 33% 62%; /* #7FA2BF - Muted Ocean Blue */
  }

  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* ========================================
   Stack Auth "Last Used" Badge Fix
   Hide the badge that appears on the last-used OAuth button
   ======================================== */

/* Hide any element with "last" text that's absolutely positioned */
button span[class*="absolute"][class*="bg-blue"],
button span[class*="rounded"][class*="bg-blue"],
button > span[class*="text-white"][class*="text-xs"],
span[class*="absolute"][class*="-top"],
span[class*="absolute"][class*="-right"] {
  display: none !important;
}


/* 8-bit animated gradient background */
@keyframes gradient-shift {
  0% {
    background-position: 0% 0%;
  }
  25% {
    background-position: 100% 0%;
  }
  50% {
    background-position: 100% 100%;
  }
  75% {
    background-position: 0% 100%;
  }
  100% {
    background-position: 0% 0%;
  }
}

.animate-gradient-shift {
  animation: gradient-shift 8s steps(8) infinite;
}

/* 8-bit style pixel grid overlay */
@keyframes pixel-flicker {
  0%, 100% {
    opacity: 0.03;
  }
  50% {
    opacity: 0.06;
  }
}

.pixel-grid-overlay {
  background-image:
    linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
  background-size: 8px 8px;
  animation: pixel-flicker 2s steps(2) infinite;
}

/* CRT scanline effect */
.scanlines {
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.15) 2px,
    rgba(0, 0, 0, 0.15) 4px
  );
  pointer-events: none;
}

/* 8-bit button style */
.pixel-button {
  position: relative;
  background: hsl(var(--primary));
  border: none;
  padding: 12px 24px;
  font-family: monospace;
  font-weight: bold;
  text-transform: uppercase;
  letter-spacing: 2px;
  cursor: pointer;
  transition: transform 0.1s steps(2);
}

.pixel-button::before {
  content: '';
  position: absolute;
  top: 4px;
  left: 4px;
  right: -4px;
  bottom: -4px;
  background: hsl(var(--secondary));
  z-index: -1;
}

.pixel-button::after {
  content: '';
  position: absolute;
  top: 8px;
  left: 8px;
  right: -8px;
  bottom: -8px;
  background: rgba(0, 0, 0, 0.3);
  z-index: -2;
}

.pixel-button:hover {
  transform: translate(-2px, -2px);
}

.pixel-button:active {
  transform: translate(2px, 2px);
}
